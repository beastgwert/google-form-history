<div class="submitted-section">
<div class="content">
  <!-- Loading state -->
  <div *ngIf="isLoading" class="loading-state">
  </div>

  <!-- Show submissions list when there are items and not loading -->
  <div *ngIf="!isLoading && submissions.length > 0" class="submissions-list">
    <div *ngFor="let submission of submissions" class="submission-item">
      <div class="submission-info">
        <div #titleElement class="submission-title" [title]="isTitleTruncated(submission, titleElement) ? getOriginalFormName(submission) : ''">{{ getFormName(submission) }}</div>
        <div class="submission-date">{{ getFormattedDate(submission.timestamp) }}</div>
      </div>
      <div class="action-icons">
        <img *ngIf="submission.questions && submission.questions.length > 0" src="assets/view-submission.svg" class="action-icon" (click)="viewSubmission(submission, $event)" title="View submission">
        <img *ngIf="submission.editUrl" src="assets/edit-submission.svg" class="action-icon" (click)="editSubmission(submission, $event)" title="Edit submission">
        <img src="assets/trash.svg" class="trash-icon" (click)="removeSubmission(submission.formId, $event)" title="Delete">
      </div>
    </div>
  </div>
  
  <!-- Show empty state background when no submissions and not loading -->
  <div *ngIf="!isLoading && submissions.length === 0" class="empty-state-container">
    <div class="empty-state-wrapper">
      <img src="assets/submitted-background.webp" class="empty-state-background" alt="No submissions">
    </div>
  </div>
</div>
</div>
